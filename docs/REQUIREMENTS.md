# VibePay 프로젝트 요구사항

## 프로젝트 개요

**목적**: PG 결제 프로세스 학습을 위한 데모 프로젝트  
**기술 스택**: 
- Backend: Java, Spring Boot, MyBatis, PostgreSQL
- Frontend: TypeScript, Nuxt.js, Vuetify
- PG사: 나이스페이, 이니시스 (비율 기반 선택)

## 핵심 학습 목표

- 인증, 승인, 승인취소, 망취소 프로세스 구현
- 신용카드, 적립금 결제수단 지원
- PG사별 비율 기반 결제 처리

## 기능 요구사항

### 0. 목차 페이지
- 네비게이션을 통한 각 메뉴 접근 가능
- 프로젝트 개요 및 사용법 안내

### 1. 기본 정보 관리

#### 1.1 회원 관리
- **회원 목록**: 저장된 회원 조회 및 등록
- **회원 상세**: 
  - 기본 정보 (이름, 배송지, 전화번호)
  - 적립금 관리 (부여, 조회)
  - 회원 정보 수정
- **주문 목록**: 해당 회원의 주문 내역 조회
- **주문 취소**: PG 승인취소를 통한 주문 취소

#### 1.2 상품 관리
- **상품 목록**: 저장된 상품 조회 및 등록
- **상품 상세**: 
  - 기본 정보 (이름, 가격)
  - 상품 정보 수정

### 2. 주문서 시스템

#### 2.1 주문 생성
- **회원 선택**: 단건 선택 (자동완성)
- **상품 선택**: 다건 선택 (자동완성)
- **수량 조절**: 각 상품별 수량 설정
- **적립금 사용**: 보유 적립금 범위 내 사용
- **금액 계산**: 상품 금액 - 사용 적립금 = 최종 결제 금액

#### 2.2 결제 프로세스
- **PG사 선택**: 나이스페이/이니시스 비율 기반 자동 선택
- **결제창 호출**: 선택된 PG사 결제창 연동
- **결제 승인**: PG사 승인 후 주문 생성
- **결과 처리**: 성공/실패에 따른 후속 처리

## 기술적 요구사항

### 데이터베이스 테이블
- `member`: 회원 정보
- `product`: 상품 정보  
- `order`: 주문 정보
- `order_item`: 주문 상품 상세
- `payment`: 결제 정보
- `reward_points`: 적립금 정보
- `payment_interface_request_log`: PG 연동 로그

### PG사 연동
- **나이스페이**: https://developers.nicepay.co.kr/manual-auth.php
- **이니시스**: https://manual.inicis.com/pay/stdpay_pc.html
- 비율 기반 PG사 선택 로직
- 결제 로그 기록 및 추적

### API 요구사항
- RESTful API 설계
- 에러 핸들링 및 로깅
- CORS 설정
- 프론트엔드와의 데이터 연동

## 비기능적 요구사항

### 성능
- 결제 프로세스 응답 시간 최적화
- 데이터베이스 쿼리 최적화

### 보안
- PG사 연동 시 보안 키 관리
- 결제 정보 암호화
- SQL 인젝션 방지

### 사용성
- 직관적인 UI/UX
- 에러 메시지 명확성
- 결제 프로세스 안내

## 제약사항

- 개발 환경에서만 동작 (테스트 PG사 사용)
- 실제 결제는 발생하지 않음
- 학습 목적으로만 사용
